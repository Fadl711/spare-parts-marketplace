# ููุญุฉ ุชุญูู ุงูุจุงุฆุน - Seller Panel

## โ ูุง ุชู ุฅูุฌุงุฒู

### 1. ุฅุนุฏุงุฏ Filament Seller Panel

- โ ุฅูุดุงุก Panel ูููุตู ููุจุงุฆุนูู ุนูู ุงููุณุงุฑ `/seller`
- โ ุชูููู ุงููุตุงุฏูุฉ ุจุงุณุชุฎุฏุงู `seller_web` guard
- โ ุฑุจุท Panel ุจููุฏู `App\Models\Seller`
- โ ุชูุนูู ุตูุญุงุช Login ู Profile

### 2. ุชุญุฏูุซ ููุฏู Seller

**ุงูููู:** `app/Models/Seller.php`

**ุงูุชุญุฏูุซุงุช:**

```php
// ุฅุถุงูุฉ Contracts
implements FilamentUser, HasName

// ุฅุถุงูุฉ ุฏุงูุฉ ุนุฑุถ ุงูุงุณู
public function getFilamentName(): string
{
    return $this->store_name ?? $this->owner_name ?? 'ุงูุชุงุฌุฑ';
}

// ุฏุงูุฉ ุงูุชุญูู ูู ุงูุตูุงุญูุฉ
public function canAccessPanel(Panel $panel): bool
{
    return $panel->getId() === 'seller';
}
```

### 3. ุฅูุดุงุก PartResource (ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช)

**ุงูููู:** `app/Filament/Seller/Resources/PartResource.php`

**ุงููููุฒุงุช:**

- โ ูููุฐุฌ ุฅุถุงูุฉ/ุชุนุฏูู ุงูููุชุฌุงุช ูุน ุงูุญููู ุงูุชุงููุฉ:

  - ุงุณู ุฅุถุงูู (extra_name)
  - ููุน ุงููุทุนุฉ (standard_part_id) - ูุน ุนูุงูุฉ
  - ุงูุณุนุฑ (price)
  - ุงูุญุงูุฉ (status): ุฌุฏูุฏุ ูุณุชุนููุ ูุฌุฏุฏ
  - ุงูุฌูุฏุฉ (quality): ุฃุตููุ ุชุฌุงุฑูุ ุตูููุ ุขุฎุฑ
  - ุงููุตู (description)
  - ุงูุณูุงุฑุงุช ุงููุชูุงููุฉ (vehicles) - ุนูุงูุฉ many-to-many
  - ุฑูุน ุงูุตูุฑ (images_upload) - ุญุชู 5 ุตูุฑ ูุน ูุญุฑุฑ ุตูุฑ

- โ ุฌุฏูู ุนุฑุถ ุงูููุชุฌุงุช:

  - ุนุฑุถ ุงูุตูุฑุฉ ุงูุฃููู
  - ุงุณู ุงููุทุนุฉ ูู StandardPart
  - ุงูุงุณู ุงูุฅุถุงูู
  - ุงูุณุนุฑ ุจุงูุฑูุงู ุงููููู
  - ุญุงูุฉ ุงูููุชุฌ (badges ููููุฉ)
  - ุฌูุฏุฉ ุงูููุชุฌ (badges ููููุฉ)
  - ุชุงุฑูุฎ ุงูุฅุถุงูุฉ

- โ ููุงุชุฑ ุงูุจุญุซ:

  - ุญุณุจ ููุน ุงููุทุนุฉ
  - ุญุณุจ ุงูุญุงูุฉ
  - ุญุณุจ ุงูุฌูุฏุฉ

- โ **ุชูููุฏ ุงูุจูุงูุงุช:** ูู ุจุงุฆุน ูุฑู ููุชุฌุงุชู ููุท

```php
public static function getEloquentQuery(): Builder
{
    return parent::getEloquentQuery()
        ->where('seller_id', Auth::guard('seller_web')->id());
}
```

### 4. ุตูุญุงุช ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช

#### CreatePart

**ุงูููู:** `app/Filament/Seller/Resources/PartResource/Pages/CreatePart.php`

**ุงููุธุงุฆู:**

- ุฅุถุงูุฉ `seller_id` ุชููุงุฆูุงู ูู ุงูู Guard
- ุญูุธ ุงูุตูุฑ ุงููุฑููุนุฉ ูู ุฌุฏูู `images`
- ุฅุนุงุฏุฉ ุงูุชูุฌูู ูุตูุญุฉ ุงููุงุฆูุฉ ุจุนุฏ ุงูุญูุธ

#### EditPart

**ุงูููู:** `app/Filament/Seller/Resources/PartResource/Pages/EditPart.php`

**ุงููุธุงุฆู:**

- ุชุญููู ุงูุตูุฑ ุงูุญุงููุฉ ุชููุงุฆูุงู
- ูุฒุงููุฉ ุงูุตูุฑ ุนูุฏ ุงูุชุนุฏูู (ุญุฐู ุงููุฏููุฉ ูุฅุถุงูุฉ ุงูุฌุฏูุฏุฉ)
- ุฒุฑ ุญุฐู ูู ุงูู Header

#### ListParts

**ุงูููู:** `app/Filament/Seller/Resources/PartResource/Pages/ListParts.php`

**ุงููุธุงุฆู:**

- ุนุฑุถ ุฌููุน ููุชุฌุงุช ุงูุจุงุฆุน
- ุฒุฑ ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ

### 5. ุตูุญุฉ ุงูููู ุงูุดุฎุตู ุงููุฎุตุตุฉ

**ุงูููู:** `app/Filament/Seller/Pages/EditProfile.php`

**ุงูุฃูุณุงู:**

#### ุฃ. ูุนูููุงุช ุงููุชุฌุฑ

- ุงุณู ุงููุชุฌุฑ
- ุงุณู ุงููุงูู
- ุดุนุงุฑ ุงููุชุฌุฑ (ูุน ูุญุฑุฑ ุตูุฑ ููุต ุฏุงุฆุฑู)

#### ุจ. ูุนูููุงุช ุงูุงุชุตุงู

- ุฑูู ุงููุงุชู (ูุน ุงูุชุญูู ูู ุงูุชูุฑุฏ)
- ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (ุงุฎุชูุงุฑู)
- ุฑุงุจุท ูุงุชุณุงุจ

#### ุฌ. ุงููููุน

- ุงููุฏููุฉ
- ุงูุญู
- ุงูุนููุงู ุงูุชูุตููู
- ุงูุฅุญุฏุงุซูุงุช ุงูุฌุบุฑุงููุฉ (Latitude & Longitude)

#### ุฏ. ุณุงุนุงุช ุงูุนูู

- ูุธุงู Repeater ูุฅุถุงูุฉ ุฃูุงู ูุฃููุงุช ุงูุนูู
- ููุญูุธ ูู JSON

#### ูู. ูุนูููุงุช ุงูุงุดุชุฑุงู

- ุนุฑุถ ุชุงุฑูุฎ ุงูุชูุงุก ุงูุงุดุชุฑุงู (ูููุฑุงุกุฉ ููุท)

#### ู. ุชุบููุฑ ูููุฉ ุงููุฑูุฑ

- ุงูุชุญูู ูู ูููุฉ ุงููุฑูุฑ ุงูุญุงููุฉ
- ูููุฉ ุงููุฑูุฑ ุงูุฌุฏูุฏุฉ ูุน ุงูุชุฃููุฏ
- ุงูุญุฏ ุงูุฃุฏูู 8 ุฃุญุฑู
- ุชุดููุฑ ุชููุงุฆู

### 6. Widget ุงูุฅุญุตุงุฆูุงุช

**ุงูููู:** `app/Filament/Seller/Widgets/SellerStatsOverview.php`

**ุงูุฅุญุตุงุฆูุงุช:**

- ุฅุฌูุงูู ุงูููุชุฌุงุช
- ุงูููุชุฌุงุช ุงูุฌุฏูุฏุฉ
- ุงูููุชุฌุงุช ุงููุณุชุนููุฉ

### 7. ุชุญุฏูุซุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช

#### ุฌุฏูู sellers

ุชู ุฅุถุงูุฉ ุนููุฏ:

```php
$table->rememberToken(); // ูููุตุงุฏูุฉ
```

#### ุฌุฏูู parts

ุงูุฃุนูุฏุฉ ุงูููุฌูุฏุฉ:

- `seller_id` - FK ุฅูู sellers
- `standard_part_id` - FK ุฅูู standard_parts
- `price` - ุงูุณุนุฑ
- `status` - enum: new, used, renewed
- `quality` - enum: original, commercial, chinese, other
- `extra_name` - ุงุณู ุฅุถุงูู (nullable)
- `description` - ุงููุตู (nullable)

#### ุฌุฏูู images

```php
- id
- part_id (FK)
- image_path
```

## ๐ ุงูุฃูุงู

1. **Guard ูููุตู:** `seller_web` ูุน session driver
2. **ุชูููุฏ ุงูุจูุงูุงุช:** ูู ุจุงุฆุน ูุฑู ุจูุงูุงุชู ููุท
3. **ุงูุชุญูู ูู ุงูุตูุงุญูุงุช:** `canAccessPanel()` ูู ุงูููุฏู
4. **ุชุดููุฑ ูููุงุช ุงููุฑูุฑ:** Hash::make()
5. **ุงูุชุญูู ูู ุงูุชูุฑุฏ:** ูููุงุชู ูุงูุจุฑูุฏ ุงูุฅููุชุฑููู

## ๐ ูููู ุงููููุงุช

```
app/
โโโ Filament/
โ   โโโ Seller/
โ       โโโ Pages/
โ       โ   โโโ EditProfile.php
โ       โโโ Resources/
โ       โ   โโโ PartResource.php
โ       โ       โโโ Pages/
โ       โ           โโโ CreatePart.php
โ       โ           โโโ EditPart.php
โ       โ           โโโ ListParts.php
โ       โโโ Widgets/
โ           โโโ SellerStatsOverview.php
โโโ Models/
โ   โโโ Seller.php (ูุญุฏูุซ)
โ   โโโ Part.php (ูุญุฏูุซ - ุฅุถุงูุฉ ุนูุงูุงุช)
โ   โโโ Image.php
โโโ Providers/
    โโโ Filament/
        โโโ SellerPanelProvider.php
```

## ๐ ุงููุณุงุฑุงุช (Routes)

```
GET  /seller              - Dashboard
GET  /seller/login        - ุชุณุฌูู ุงูุฏุฎูู
POST /seller/logout       - ุชุณุฌูู ุงูุฎุฑูุฌ
GET  /seller/profile      - ุงูููู ุงูุดุฎุตู
GET  /seller/parts        - ูุงุฆูุฉ ุงูููุชุฌุงุช
GET  /seller/parts/create - ุฅุถุงูุฉ ููุชุฌ
GET  /seller/parts/{id}/edit - ุชุนุฏูู ููุชุฌ
```

## ๐จ ุงูุชุตููู

- **ุงููุบุฉ:** ุงูุนุฑุจูุฉ (RTL)
- **ุงูุฎุท:** Tajawal
- **ุงูููู ุงูุฃุณุงุณู:** ุฃุฒุฑู (Blue)
- **ุงุณู ุงูุนูุงูุฉ:** "ูููููุชููุง - ููุญุฉ ุงูุชุงุฌุฑ"

## ๐ ุงูุงุณุชุฎุฏุงู

### ุชุณุฌูู ุงูุฏุฎูู

```
URL: http://your-domain.com/seller/login
ุงูุจูุงูุงุช ุงูุงูุชุฑุงุถูุฉ:
- Email/Phone: test@seller.com / 0788888888
- Password: password
```

### ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ

1. ุงุฐูุจ ุฅูู `/seller/parts`
2. ุงุถุบุท "ุฅูุดุงุก"
3. ุงููุฃ ุงูุจูุงูุงุช:
   - ุงุฎุชุฑ ููุน ุงููุทุนุฉ
   - ุฃุฏุฎู ุงูุณุนุฑ
   - ุญุฏุฏ ุงูุญุงูุฉ ูุงูุฌูุฏุฉ
   - ุงุฎุชุฑ ุงูุณูุงุฑุงุช ุงููุชูุงููุฉ
   - ุงุฑูุน ุงูุตูุฑ (ุญุชู 5)
4. ุงุญูุธ

### ุชุนุฏูู ุงูููู ุงูุดุฎุตู

1. ุงุฐูุจ ุฅูู `/seller/profile`
2. ุนุฏูู ุงููุนูููุงุช ุงููุทููุจุฉ
3. ุงุญูุธ

## โ๏ธ ููุงุญุธุงุช ูููุฉ

1. **ุงูุตูุฑ:**

   - ุชูุญูุธ ูู `storage/app/public/parts`
   - ูุฌุจ ุชุดุบูู: `php artisan storage:link`

2. **ุงูุจูุงูุงุช ุงููุทููุจุฉ:**

   - ูุฌุจ ูุฌูุฏ ุจูุงูุงุช ูู ุฌุฏุงูู:
     - `categories`
     - `subcategories`
     - `standard_parts`
     - `vehicles`
   - ูุฅุถุงูุฉ ููุชุฌุงุช ุจุดูู ุตุญูุญ

3. **ุงูุงุดุชุฑุงู:**
   - ุญูู `subscription_end` ูู ุฌุฏูู sellers
   - ููุนุฑุถ ูููุฑุงุกุฉ ููุท
   - ููุชุฌุฏูุฏ ูุฌุจ ุงูุชูุงุตู ูุน ุงูุฅุฏุงุฑุฉ

## ๐ ุงูุชุญุฏูุซุงุช ุงููุณุชูุจููุฉ ุงูููุชุฑุญุฉ

- [ ] ุฅุถุงูุฉ Relation Manager ููุตูุฑ
- [ ] ุฅุญุตุงุฆูุงุช ูุชูุฏูุฉ (ูุจูุนุงุชุ ูุดุงูุฏุงุช)
- [ ] ูุธุงู ุงูุฅุดุนุงุฑุงุช
- [ ] ุชูุงุฑูุฑ ุดูุฑูุฉ
- [ ] ุฅุฏุงุฑุฉ ุงูุทูุจุงุช
- [ ] ูุธุงู ุงูุชููููุงุช
- [ ] ุฑุจุท ูุน Google Maps ูููููุน

## ๐ ุงููุซุงุฆู ุงูุฅุถุงููุฉ

- [ุฏููู ุตูุญุฉ ุงูููู ุงูุดุฎุตู](./.agent/docs/seller-profile-guide.md)
- [Filament Documentation](https://filamentphp.com/docs)

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดููุฉ: "Relationship [category] does not exist"

**ุงูุญู:** ุชู ุฅุตูุงุญูุง - ุงุณุชุฎุฏุงู `standardPart` ุจุฏูุงู ูู `category`

### ูุดููุฉ: "Type of navigationIcon must be BackedEnum|string|null"

**ุงูุญู:** ุชู ุฅุตูุงุญูุง - ุงุณุชุฎุฏุงู `string|BackedEnum|null`

### ูุดููุฉ: "getUserName(): Return value must be of type string, null returned"

**ุงูุญู:** ุชู ุฅุตูุงุญูุง - ุฅุถุงูุฉ `HasName` ู `getFilamentName()`

---

**ุขุฎุฑ ุชุญุฏูุซ:** 2026-01-17
**ุงูุฅุตุฏุงุฑ:** 1.0.0
**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุงุณุชุฎุฏุงู
